
## 第一题

- 算法描述
	- 初始化解集合：$C_{ALG} = \emptyset$
	- 初始化未覆盖元素的集合$U_{uncov} = U$
	- 当$U_{uncov}$非空时
		- 从$U_{uncov}$中任意选择一个元素$e$
		- 从原始集合族$S$中选择任意一个包含元素$e$的集合，记为$S_e$
		- 将 $S_e$​ 加入到 $C_{ALG}$​ 中：$C_{ALG}​ = C_{ALG} \cup \{S_e\}$
		- 从 $U_{uncov}$​ 中移除被 $S_e$​ 覆盖的所有元素：$U_{uncov} ​= U_{uncov} ​- S_e$​。
	- 返回 $C_{ALG}$​。
	- 这种算法可以看作是一种“分层”处理：每次从未覆盖的元素中选择一个，然后选择一个集合来“覆盖”这一层（即这个元素以及该集合中的其他元素），直到所有元素都被覆盖。
- 近似因子证明
	- 设 $C_{ALG}$​ 是上述算法返回的解，设 $C_{OPT}$​ 是一个最优解。
	- 令 $∣C_{ALG}​∣$ 为算法解中集合的数量，$∣C_{OPT}​∣$ 为最优解中集合的数量。
	- $f$ 定义为宇宙集 $U$ 中任何元素 $e$ 出现在输入集合族 $S$ 中最多的次数，即 $f=\max_{x∈U}$​(包含 x 的集合数量)。
	- 为宇宙集 $U$ 中的每个元素 $e$ 设置一个对偶变量 $y_e​≥0$。初始时，所有 $y_e​=0$。
	- 算法的每一步（当选择一个元素 $e^∗$ 并加入一个集合 $S_{e^∗}$​ 到 $C_{ALG}$​ 时）可以被看作是增加 $y_{e^∗}$​ 直到一个包含 $e^∗$ 的对偶约束（例如 $∑_{e∈S_j}​ y_e​≤1$）变得紧凑。在一个简化的版本中，我们可以认为当元素 $e^∗$ 触发选择集合 $S_{e^∗}$​ 时，$y_{e^∗}$​ 被“激活”（可以认为 $y_{e^∗}​=1$，而其他未触发元素的 $y$ 值为0，或者通过更精细的对偶变量增长）。
- 紧致实例
	- $U = \{e_1, e_f, ..., z\}$，$S_i = \{ e_i, z \}(i=1, ..., f)$，$S_{opt} = \{ e_1, e_2, ..., e_f \}$
	- 该算法可能选择$f$个集合，而最优解只需要一个


## 第二题

- 贪心算法
	- 将所有边按照成本$c_e$进行降序排序
	- 初始化$H_{ALG} = \emptyset$
	- 对排序后的边集$\{ e={(u,v) | u,v \in V} \}$依次处理
		- 如果将$e$加入$H_{ALG}$后，顶点$u,v$的度数均大于2，并且加入$e$不会形成一个包含$< n$个顶点的子回路，则将$e$加入$H_{ALG}$
	- 当$H_{ALG}$中包含$n$条边形成的汉密尔顿回路时停止
- 证明$factor=2$的保证，即$C_{OPT} \le 2 C_{ALG}$
	- 假设$e^*=(u,v), \text{cost}=c(e^*), e^* \in H_{OPT}$
	- 对应于$H_{ALG}$中，假设顶点$u$连接的两条边为$a_1, a_2$，顶点$v$连接的两条边为$b_1,b_2$
	- 由于贪心算法，所以有$c(e^*) \le c(a_1) \land c(e^*) \le c(a_2)$，对于$v$也类似
	- 那么如果$e^* \in H_{OPT}$，则$c(e^*)$计入$C(H_{ALG})$
	- 如果$e^* \notin H_{OPT}$，那么当$e^*$被考虑时，它不能被加入。这表明$u,v$中至少有一个已经通过$H_{ALG}$中的两条边达到了度数为2的限制。
	- 所以每一条$H_{ALG}$中的边最多被两条$H_{OPT}$中的边对应，那么就有
		$C_{OPT} = \sum_{e^* \in H_{OPT}} c(e^*) \le \sum_{a \in H_{ALG}} 2 c(a) = 2 C(H_{ALG})$
	- 得证。


## 第三题

- 两种算法效果的任意差性证明
	- 按利润重量比递减的贪心算法
		- 例子：背包容量 $B=K$
			- 物品1：$w_1 = \epsilon, p_1 = 1$
			- 物品2：$w_1 = K, p_2=K$
		- 最优解：选择物品2，利润$P_{OPT} = K$，由于$K$可以任意大，所以算法效果任意差
	- 仅按利润递减的贪心算法
		- 例子：背包容量 $B=X$
			- 物品1：$w_1 = X, p_1 = X$
			- $X$个物品（物品$i=2,...,X+1$）
				- $w_i=1, p_i=X-\epsilon$
				- 此算法选择物品1，得到利润$P_P=X$
		- 最优解：选择$X$个利润为$X-\epsilon$的物品，总利润$P_{OPT}=X(X-\epsilon)$，由于$X$可以任意大，所以效果任意差
- 组合算法的近似比为 2 的证明
	- 组合算法选择 $P_A​=max(P_R​,P_P​)$。
	- 设物品按利润重量比 $p_i​/w_i$​ 非增次序排列。贪心算法 $S_R$​ (按利润重量比) 选择物品 $x_1​,…,x_k$​，其利润为 $P_R​=\sum_{i=1}^k ​p_i$​。设 $x_{k+1}$​ 是第一个未被选中的物品，其利润为 $p_{k+1}$​，重量为 $w_{k+1}$​。
	- 最优解的利润 $P_{OPT}$​ 小于等于分数背包问题的最优解 $P_{FRAC\_OPT}$​。而 $P_{FRAC\_OPT}$​ 严格小于 $P_R​+p_{k+1}$​ (除非所有物品都被 $S_R$​ 选中，此时 $P_R​=P_{OPT}$​)。 所以，$P_{OPT}​<P_R​+p_{k+1}$​。
	- 题目给定所有物品的重量 $w_i​≤B$。因此，$w_{k+1}​≤B$，这意味着物品 $x_{k+1}$​ 本身是可以单独放入背包的。
	- 贪心算法 $S_P$​ (按利润) 的利润 $P_P$​ 至少等于任何单个能放入背包的物品的利润。因此，$P_P​≥p_j$​ 对于所有满足 $w_j​≤B$ 的物品 $j$。特别地，$P_P​≥p_{k+1}$​。
	- 结合以上两点：$P_{OPT}​<P_R​+p_{k+1}​≤P_R​+P_P$​。
	- 由于 $P_A​=max(P_R​,P_P​)$，我们有 $P_R​≤P_A$​ 和 $P_P​≤P_A$​。 因此，$P_R​+P_P​≤P_A​+P_A​=2P_A​$。
	- 所以，$P_{OPT}​<2P_A$​。 这证明了组合算法的近似比为2。

## 第四题

- 证明 Next-Fit 算法达到因子 2
	- 假设$n$个物品，大小分别为$s_1, ..., s_n \in (0,1]$
	- $A_j$表示第$j$个箱子的总填充量，则有$A_j + A_{j+1} \ge 1, 1 \le j \le m$
	- 所以，$2 OPT \ge 2 \sum_{i=1}^n s_i = 2 \sum_{j=1}^m A_j \ge m-1 +A_1 + A_m$
	- 即 $2 OPT \ge m$
- 紧致例子
	- $s_{2k-1} = \frac{1}{n}, a_{2k} = 1 - \frac{1}{2n}, 1 \le k \le n$

## 第五题

- 算法描述
	- 给定一个无向图 $G=(V,E)$ 及每条边 $(i,j)∈E$ 的非负权重 $w_{ij}​≥0$。
	- 该随机算法如下：
		- 对于图中的每一个顶点 $v∈V$，独立地、等概率地（即各以 1/2 的概率）将其分配到两个集合 $U$ 或 $W$ 中的一个。
		- 割集 $C$ 由连接集合 $U$ 中的顶点和集合 $W$ 中的顶点的所有边组成。
- 算法分析
	- 令 $X_{ij}$​ 为一个指示随机变量，如果边 $(i,j)$ 在割中，则 $X_{ij}​=1$，否则 $X_{ij}​=0$。
	- 割的权重 $W_C​=∑_{(i,j)∈E}​w_{ij}​X_{ij}$​。
	- 割的期望权重为 $E[W_C​]=E[∑_{(i,j)∈E}​w_{ij}​X_{ij}​]=∑_{(i,j)∈E}​w_{ij}​E[X_{ij}​]$。
	- 考虑任意一条边 $(i,j)∈E$。这条边在割中当且仅当其两个端点被分配到不同的集合中。
	- 由于每个顶点被分配到 U 或 W 的概率都是 1/2，且分配是相互独立的，所以：
	- $P$(边$(i,j)$在割中)$=P(i∈U \land j∈W)+P(i∈W \land j∈U)$
		$=P(i∈U)⋅P(j∈W)+P(i∈W)⋅P(j∈U)$
		$=(1/2)⋅(1/2)+(1/2)⋅(1/2)=1/4+1/4=1/2$
	- 因此，$E[X_{ij}​]=P$(边 $(i,j)$ 在割中)$=1/2$。
	- 所以，割的期望权重为：
		- $E[W_C​]=∑_{(i,j)∈E​}w_{ij}​⋅(1/2)=(1/2)​∑_{(i,j)∈E}​w_{ij}$​。
		- 令 $W_{total}​=∑_{(i,j)∈E}​w_{ij}$​ 表示图中所有边的总权重。
		- 则 $E[W_C​]=W_{total}​/2$。
	- 令 $OPT$ 表示最大割的权重。显然，任何割的权重都不会超过图中所有边的总权重，即 $OPT≤W_{total}$​。
	- 因此，$E[W_C​]=W_{total}​/2≥OPT/2$。

## 第六题

- 算法描述（贪心算法）
	1. 初始化一个空集合 $I_{alg}$​，用于存储找到的独立集。
	2. 当图 $G$ 的顶点集 $V$ 不为空时，重复以下步骤： 
		- 从 $V$ 中任选一个顶点 $v$
		- 将 $v$ 加入到 $I_{alg}$​ 中
		- 从图 $G$ 中删除顶点 $v$ 以及所有与 $v$ 相邻的顶点（即删除 $v$ 的闭邻域 $N[v]=\{v\}∪N(v)$）。
	3. 返回 $I_{alg}$​。
- 算法分析
	- 令 $I_{alg}$​ 为上述贪心算法所找到的独立集，其大小为 $∣I_{alg}​∣$。令 $I_{opt}$​ 为图 $G$ 的一个最大（最优）独立集，其大小为 $∣I_{opt}​∣$。
	- 由于 $I_{alg}$​ 是一个极大独立集，所以 $I_{opt}$​ 中的每一个顶点要么属于 $I_{alg}$​，要么与$I_{alg}$中的至少一个顶点相邻。这意味着 $I_{opt}$ 中的所有顶点都被 $I_{alg}$ 中顶点的闭邻域所覆盖：
		- $I_{opt}​⊆​⋃_{v∈I_{alg}}​(\{v\}∪N(v))$，其中 $N(v)$ 表示顶点 $v$ 的邻居集合。
	- 因此，$I_{opt}$​ 的大小不会超过这个并集的大小：
		- $∣I_{opt}​∣≤​​⋃_{v∈I_{alg}}​(\{v\}∪N(v))​$
		- 并集的大小小于或等于各集合大小之和：$|​⋃_{​v∈I_{alg}}​(\{v\}∪N(v))|​≤​∑_{v∈I_{alg}}​∣\{v\}∪N(v)∣$
	- 对于 $I_{alg}$​ 中的每一个顶点 $v$，其闭邻域的大小为 $1+deg(v)$，其中 $deg(v)$ 是顶点 $v$ 的度数。
	- 根据题目条件，图中每个节点的度数不超过 $d$，所以 $deg(v)≤d$。
	- 因此：$∑_{v∈I_{alg}​}​(1+deg(v))≤​∑_{v∈I_{alg}}​(1+d)=∣I_{alg}​∣(1+d)$综合以上不等式，我们得到：$∣I_{opt}​∣≤∣I_{alg}​∣(1+d)$整理后可得：$\frac{|I_{alg}​|}{|I_{opt}​|}​≥\frac{1}{d+1}​$
	- 这表明该贪心算法找到的极大独立集 $I_{alg}​$ 的大小至少是最大独立集 $I_{opt}$​ 大小的 $\frac{1}{d+1}$​ 倍。因此，该算法是一个近似因子为 $\frac{1}{d+1}$ 的近似算法。

## 第七题


- 算法描述
	1. 计算最小代价2-匹配:
		首先，计算图 $G$ 的一个最小代价$2-匹配 M$。根据提示，最小代价2-匹配可以在多项式时间内计算出来。设 $M$ 的代价为 $c(M)$。一个TSP最优回路本身也是一个2-匹配，因此，最小代价2-匹配的代价不会超过最优TSP回路的代价，即 $c(M)≤c(TSP_{OPT}​)$，其中 $c(TSP_{OPT}​)$ 是最优TSP回路的代价。
	2. 2-匹配的结构:
	    一个2-匹配 M 是图中边的一个子集，使得每个顶点恰好与 M 中的两条边相关联。这意味着 $M$ 由 $k$ 个互不相交的简单圈（cycle）$C_1​,C2​,…,Ck$​ 组成，这些圈覆盖了图 $G$ 中的所有 $n$ 个顶点。
	3. 从2-匹配构造哈密尔顿圈 (TSP回路):
	    如果 $k=1$，那么2-匹配 M 本身就是一个哈密尔顿圈。此时 $c(M)≤c(TSP_{OPT}​)$，我们已经找到了一个最优解（或代价不超过最优解的解），近似因子为1。
	    如果$ k>1$，我们需要将这 $k$ 个圈合并成一个单一的哈密尔顿圈 $H$。可以按以下步骤操作：
		    a. 对于 $M$ 中的每一个圈 $C_i​ (i=1,…,k)$，从 $C_i$​ 中移除一条边 $e_i$​。这将把圈 $C_i$​ 打开成一条路径 $P_i$​。设路径 $P_i$​ 的两个端点分别为 $s_i$​ 和 $t_i​$。
			b. 通过添加 $k$ 条新的边 $e_1′​,e_2′​,…,e_k′$​ 来连接这些路径，从而形成一个单一的哈密尔顿圈 $H$。例如，我们可以连接 $t_1$​ 到$s_2​$，$t_2$​ 到 $s_3$​，...，$t_{k−1}​$ 到 $sk$​，最后连接 $t_k$​ 到 $s1$​。由于图 $G$ 是完全图，这些连接边总是存在的。
- 代价分析与近似因子
	1. 构造出的回路 $H$ 的代价:
	    回路 $H$ 的代价 $c(H)$ 可以表示为：
	    $c(H)=c(M)−∑_{i=1}^k ​c(e_i​)+∑_{i=1}^k ​c(e_i′​)$
	    其中 $c(e_i​)$ 是从圈 $C_i$​ 中移除的边的代价， $c(e_i′​)$ 是新添加的边的代价。
	2. 边的代价界限:
	    由于原图中所有边的长度只能是1或2：
	    - 每条被移除的边 $e_i$​ 的代价 $c(e_i​)≥1$。因此，$∑_{i=1}^k ​c(e_i​)≥k$。
	    - 每条新添加的边 $e_i′$​ 的代价 $c(e_i′​)≤2$（因为它们是原图中的边）。因此，$∑_{i=1}^k​c(e_i′​)≤2k$。
	3. $c(H)$ 的上界:
	    将上述不等式代入 $c(H)$ 的表达式：$c(H)≤c(M)−k+2k=c(M)+k$
	4. 圈的数量 k 与顶点数 n 的关系:
	    在2-匹配 M 中，每个圈 $C_i$​ 至少包含3个顶点（假设$n≥3$，对于 $n<3$ 的TSP问题是平凡的）。由于这 k 个圈覆盖了所有 n 个顶点且互不相交，所以 $n=∑_{i=1}^k​∣V(C_i​)∣≥∑_{i=1}^k ​3=3k$。因此，$k≤n/3$。
	5. $c(H)$ 与 $c(TSP_{OPT}​)$ 的关系:
	    将 $k≤n/3$ 代入 $c(H)$ 的上界：
	    $c(H)≤c(M)+n/3$
	    我们已知 $c(M)≤c(TSP_{OPT}​)$。
	    一个最优TSP回路包含 $n$ 条边，每条边的长度至少为1。因此，$c(TSP_{OPT}​)≥n⋅1=n$。这意味着 $n/3≤c(TSP_{OPT}​)/3$。
	    所以：
	    $c(H)≤c(TSP_{OPT}​)+n/3≤c(TSP_{OPT}​)+c(TSP_{OPT}​)/3=(4/3)c(TSP_{OPT}​)$
